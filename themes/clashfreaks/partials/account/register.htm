{% if canRegister %}
<!-- Default form register -->
<form data-request="onRegister" data-request-validate id="registerForm" class="needs-validation">

    <p class="h4 mb-4 text-center" id="register_title">Register</p>

    <input type="text" id="registerName" class="form-control mb-4" name="name" placeholder="Enter your full name">

    <div class="input-group mb-4">
        <input type="email" id="registerEmail" class="form-control " name="email" placeholder="Enter your email">
        <div></div>
    </div>

    {% if loginAttribute == "username" %}
    <input type="text" id="registerUsername" name="username" class="form-control mb-4" name="name"
        placeholder="Enter your username">
    {% endif %}

    <!-- Password -->
    <input type="password" id="registerPassword" name="password" class="form-control" placeholder="Password"
        aria-describedby="registerPasswordHelpBlock">
    <small id="registerPasswordHelpBlock" class="form-text text-muted mb-4">
        At least 8 characters
    </small>

    <!-- Sign up button -->
    <button class="btn btn-info my-4 btn-block" type="submit">Register</button>

    <!-- Terms of service -->
    <p>By clicking
        <em>Register</em> you agree to our
        <a href="" target="_blank">terms of service</a>

</form>
{% put scripts %}
<script>
    $(window).on('ajaxInvalidField', function (event, fieldElement, fieldName, errorMsg, isFirst) {
        var $errorContainer=$(fieldElement).next();
        $errorContainer.html(errorMsg[0]);
        $(fieldElement).addClass('is-invalid');
    });
    $(document).on('ajaxPromise', '[data-request]', function () {
        $(this).closest('form').find('div.is-invalid').removeClass('invalid-feedback');
    });
</script>
{% endput %}
{% else %}
<!-- Registration is disabled. -->
{% endif %}